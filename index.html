<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- ... (остальной код остается без изменений) ... -->
</head>
<body>
    <!-- ... (остальной код остается без изменений) ... -->

<script>
        // ... (остальной код остается без изменений) ...

        async function sendMessage() {
            let userInput = document.getElementById('userInput');
            let message = userInput.value.trim();
            if (message) {
                appendMessage('Вы: ' + message, 'user-message');
                userInput.value = '';
                document.getElementById('loadingIndicator').style.display = 'block';
                
                try {
                    const response = await fetch('https://ваш-api-url/chat', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({ message: message }),
                    });
                    const data = await response.json();
                    appendMessage('Бот: ' + data.response, 'bot-message');
                } catch (error) {
                    console.error('Ошибка:', error);
                    appendMessage('Бот: Извините, произошла ошибка при обработке вашего сообщения.', 'bot-message');
                } finally {
                    document.getElementById('loadingIndicator').style.display = 'none';
                }
            }
        }

        // ... (остальной код остается без изменений) ...
    </script>
</body>
</html>
